+++
date = '2025-04-23T20:00:00+09:00'
draft = true
title = 'トポロジをアナトミーに合わせるかどうか'
tags = ['3DCG']
+++

トポロジをアナトミーに合わせるかどうか。  
突然何の話かと思われますでしょうが、先日Twitterでこんな話題がありました。

{{< x user="h1i9r8o1" id="1907721921233564056" >}}

疑問なのが、これをやり始めると「じゃあ全身で筋肉にあわせてトポロジを歪める対応をやらないといけないよね」というお話になってしまいそうです。どこまでやって、どこからはやらないの？という話にも。

そのひねり散らかしたメッシュに、ひねっていない格子状の服を着せたとき、クリッピングするウェイトで苦しむのはセットアッパー（もしくはリガー、あるいはウェイトを担当するモデラー自身）です。

筋肉の動きを考慮してしぼみを回避したり筋肉を膨張させるのは、補助骨のセットアップで簡単にできます。

*わざわざトポロジを汚くしてまですることじゃない。*  
*しぼみはモデリングの段階で解決する問題ではありません。*

量産する前提のモデルでトポロジをひねるのは絶対にやめた方が良いでしょうね。  
自主制作でこだわる分には好きにしたらいいと思うのですが。

*アナトミーに忠実なトポロジが、製品として正しいトポロジではない*というわけです。

学生さんも、プロとしてのモデラーを目指すなら参考にする資料は見極めましょう。  
プロのモデラーは自身が上流工程である自覚を持ち、下流工程の作業者へデータを渡した際に生じる責任を意識します。

- そのモデルはリガーがセットアップしやすいですか？
- アニメータが動かしたときにモデルが破綻しませんか？
- アニメーションを付けるとき一時的に消したくなるような揺れものパーツをメッシュ分割してありますか？
- 武器をアタッチしたときにプライマリ1軸回転だけでちゃんと武器を握れる手になっていますか？
- エフェクトアーティストがエフェクトを置きやすい場所にソケット用の骨がありますか？
- アートディレクターが修正を要求してきたときに、自分が修正しやすいデータになっていますか？

例えば、天下のEpic Gamesが提供しているMetaHumanは、ひねりのない格子メッシュに補助骨を入れてしぼみ回避や筋肉や顔の皺（顔の皺に関してはさらにノーマルマップも使っています）の表現をしています。

Unreal EngineのMetaHumanサンプルシーンのスケルタルメッシュのLOD0～LOD3くらいまでと、コントロールリグのデータを見てみるといいでしょう。

もしくはMetaHumanCreatorからAdaをBridge経由でMayaに持ってきて見てみるのでもいいです。ちゃんと見るにはPoseDriverを入れないといけませんが。

原神やゼンゼロのMMDモデルを見るのでもいいです。
前腕部分、格子メッシュにしぼみ回避ボーンが仕込まれている構成です。

逆に、法線の回り込みでアウトラインを描画しているセルシェーディング案件などでは、意図的に筋肉の流れをトポロジとして分割することがあります。案件のテイストを汲み取りましょう。

以上、ゲーム開発屋のお気持ち表明でした。
